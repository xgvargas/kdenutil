"use strict";(function(){window.copyToClipboard=function(txt){var input;input=document.getElementById("libAuxInput");input.value=txt;input.type="text";input.select();document.execCommand("copy");input.type="hidden";return console.log("copied:",txt)}}).call(undefined);"use strict";(function(){window.linearRun=function(){var centerT,centerX,centerY,copy,flipX,flipY,gainT,gainX,gainY,i,j,len,len1,m,maxT,maxX,maxY,minT,minX,minY,offsetT,offsetX,offsetY,p,points,res,result,reverse,t,textarea,textareaOut,x,y;flipX=document.getElementById("linearFlipX").checked;flipY=document.getElementById("linearFlipY").checked;reverse=document.getElementById("linearReverse").checked;offsetT=parseFloat(document.getElementById("linearOffsetTime").value);offsetX=parseFloat(document.getElementById("linearOffsetX").value);offsetY=parseFloat(document.getElementById("linearOffsetY").value);gainT=parseFloat(document.getElementById("linearGainTime").value);gainX=parseFloat(document.getElementById("linearGainX").value);gainY=parseFloat(document.getElementById("linearGainY").value);textarea=document.getElementById("linearPoints");textareaOut=document.getElementById("linearPointsOut");copy=document.getElementById("linearCopy").checked;console.log("flipX",flipX);console.log("flipY",flipY);console.log("reverse",reverse);console.log("offsetT",offsetT);console.log("offsetX",offsetX);console.log("offsetY",offsetY);console.log("gainT",gainT);console.log("gainX",gainX);console.log("gainY",gainY);console.log("textarea",textarea.value);console.log("copy",copy);result=[];minX=maxX=minY=maxY=minT=maxT=null;points=textarea.value.split(";");for(i=0,len=points.length;i<len;i++){p=points[i];m=p.match(/^(\d+)~?=(-?[\d.]+)(?:\/|\s)(-?[\d.]+)/);if(!m){continue}if(minX===null){minT=+m[1];maxT=+m[1];minX=+m[2];maxX=+m[2];minY=+m[3];maxY=+m[3]}if(m[1]<minT){minT=+m[1]}if(m[1]>minT){maxT=+m[1]}if(m[2]<minX){minX=+m[2]}if(m[2]>minX){maxX=+m[2]}if(m[3]<minY){minY=+m[3]}if(m[3]>minY){maxY=+m[3]}}centerT=(maxT-minT)/2+minT;centerX=(maxX-minX)/2+minX;centerY=(maxY-minY)/2+minY;console.log(minT,maxT,minX,maxX,minY,maxY,centerX,centerY);for(j=0,len1=points.length;j<len1;j++){p=points[j];m=p.match(/^(\d+)~?=(-?[\d.]+)(?:\/|\s)(-?[\d.]+)/);if(!m){continue}t=+m[1];x=+m[2];y=+m[3];if(reverse){t=maxT-(t-minT)}if(flipX){x=maxX-(x-minX)}if(flipY){y=maxY-(y-minY)}t=(t-centerT)*gainT+centerT;x=(x-centerX)*gainX+centerX;y=(y-centerY)*gainY+centerY;t+=offsetT;x+=offsetX;y+=offsetY;result.push(t+"~="+x+" "+y)}if(reverse){result.reverse()}res=result.join(";");textareaOut.value=res;if(copy){copyToClipboard(res)}}}).call(undefined);"use strict";(function(){var templates;templates={Normal:[{Peak:1,Freq:2,Noise:3},{Peak:4,Freq:5,Noise:6},{Peak:7,Freq:8,Noise:9}],Parkinson:[{Peak:12,Freq:8,Noise:.6},{Peak:12,Freq:8,Noise:.6},{Peak:12,Freq:8,Noise:.6}],Light:[{Peak:2,Freq:1,Noise:.2},{Peak:2,Freq:1,Noise:.2},{Peak:2,Freq:1,Noise:.2}]};window.shakeSetTemplate=function(){var i,j,p,results,type,v;type=document.getElementById("shakeTemplate").value;console.log("shake, setting:",type);results=[];for(i=j=0;j<3;i=++j){results.push(function(){var ref,results1;ref=templates[type][i];results1=[];for(p in ref){v=ref[p];results1.push(document.getElementById("shake"+(i+1)+"_"+p).value=v)}return results1}())}return results};window.shakeSetTemplate();window.shakeRun=function(){var copy,textareaOut,type;type=document.getElementById("shakeTemplate").value;textareaOut=document.getElementById("shakePointsOut");copy=document.getElementById("shakeCopy").checked;console.log("type",type);console.log("copy",copy)}}).call(undefined);"use strict";(function(){window.stabilizeRun=function(){var centerX,centerY,copy,fm,i,keep,len,m,move,p,points,posX,posY,res,result,textarea,textareaOut;posX=parseFloat(document.getElementById("stabilizeX").value);posY=parseFloat(document.getElementById("stabilizeY").value);keep=document.getElementById("stabilizeKeep").checked;move=document.getElementById("stabilizeMove").checked;textarea=document.getElementById("stabilizePoints");textareaOut=document.getElementById("stabilizePointsOut");copy=document.getElementById("stabilizeCopy").checked;console.log("posX",posX);console.log("posY",posY);console.log("keep",keep);console.log("move",move);console.log("original",textarea.value);console.log("copy",copy);result=[];centerX=centerY=null;points=textarea.value.split(";");for(i=0,len=points.length;i<len;i++){p=points[i];m=p.match(/^(\d+)~?=(-?[\d.]+)(?:\/|\s)(-?[\d.]+)/);if(!m){continue}if(centerX===null){if(move){fm=p.match(/^(\d+)~?=(-?[\d.]+)(?:\/|\s)(-?[\d.]+)(?::|\s)(-?[\d.]+)(?:x|\s)(-?[\d.]+)/);if(fm){centerX=posX-fm[4]/2;centerY=posY-fm[5]/2}else{centerX=posX;centerY=posY}}if(keep){centerX=+m[2];centerY=+m[3]}}result.push(m[1]+"~="+(centerX-m[2])+" "+(centerY-m[3]))}res=result.join(";");textareaOut.value=res;if(copy){copyToClipboard(res)}}}).call(undefined);
